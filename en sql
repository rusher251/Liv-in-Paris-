CREATE DATABASE Restauration;
USE Restauration;

CREATE TABLE Clients (
    ClientID INT PRIMARY KEY AUTO_INCREMENT,
    Nom VARCHAR(50),
    Prenom VARCHAR(50),
    Email VARCHAR(100),
    Telephone VARCHAR(15)
);

CREATE TABLE Cuisiniers (
    CuisinierID INT PRIMARY KEY AUTO_INCREMENT,
    Nom VARCHAR(50),
    Specialite VARCHAR(50)
);

CREATE TABLE Commandes (
    CommandeID INT PRIMARY KEY AUTO_INCREMENT,
    ClientID INT,
    CuisinierID INT,
    DateCommande DATETIME DEFAULT CURRENT_TIMESTAMP,
    Statut VARCHAR(20) DEFAULT 'En attente',
    FOREIGN KEY (ClientID) REFERENCES Clients(ClientID),
    FOREIGN KEY (CuisinierID) REFERENCES Cuisiniers(CuisinierID)
);

SELECT * FROM Commandes WHERE ClientID = 1;

SELECT Cuisiniers.Nom, COUNT(Commandes.CommandeID) AS NbCommandes
FROM Commandes
JOIN Cuisiniers ON Commandes.CuisinierID = Cuisiniers.CuisinierID
GROUP BY Cuisiniers.Nom;

SELECT * FROM Commandes WHERE Statut = 'En attente';
